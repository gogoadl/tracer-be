# Server Configuration
server:
  port: 8000

# Database Configuration (Default: SQLite for production/Docker)
# Environment variables supported:
#   - SPRING_DATASOURCE_URL (preferred, format: jdbc:sqlite:./data/logs.db)
#   - DATABASE_URL (fallback, format: jdbc:sqlite:./data/logs.db)
# If not set, defaults to jdbc:sqlite:./data/logs.db
# For local development with H2, use profile: local
spring:
  datasource:
    url: jdbc:sqlite:./data/logs.db
    driver-class-name: org.sqlite.JDBC
    username: 
    password:
  
  # JPA/Hibernate Configuration (SQLite)
  jpa:
    database-platform: org.hibernate.community.dialect.SQLiteDialect
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: true
  
  # Active Profile (default: empty, use 'local' for H2 in-memory)
  # profiles:
  #   active: local
  
  application:
    name: tracer-backend

# SpringDoc OpenAPI (Swagger) Configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: method
    tags-sorter: alpha
    try-it-out-enabled: true
  show-actuator: false
  group-configs:
    - group: 'default'
      display-name: 'Tracer API'
      paths-to-match: '/api/**'

# Command History Path
command:
  history:
    path: ${COMMAND_HISTORY_PATH:${user.home}/.command_log.jsonl}

